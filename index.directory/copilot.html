<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover, interactive-widget=resizes-visual">
  <meta name="description" content="Professional penny stock trading journal with automated tracking and analysis">
  <meta name="theme-color" content="#00ff88">
  
  <title>SFTi-Pennies Copilot Chat</title>
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Custom Styles -->
  <link rel="stylesheet" href="assets/css/main.css">
  <link rel="stylesheet" href="assets/css/glass-effects.css">
  <link rel="stylesheet" href="assets/css/copilot-page.css">
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="../manifest.json">
  
  <!-- Icons -->
  <link rel="icon" type="image/png" sizes="192x192" href="assets/icons/icon-192.png">
  <link rel="apple-touch-icon" href="assets/icons/icon-192.png">
</head>
<body>

  <canvas id="bg-canvas"></canvas>
  
  <!-- Unified Navigation & Copilot Header Bar -->
  <nav id="chat-header" class="navbar copilot-unified-header">
    <div class="nav-container">
      <!-- Left: Hamburger Menu -->
      <button class="nav-toggle" id="copilot-menu-toggle" aria-label="Toggle navigation">
        <div class="hamburger">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </button>
      
      <!-- Center: Copilot Title & Model Selector -->
      <div class="copilot-header-center">
        <div class="copilot-header-title">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/>
          </svg>
          <span>Copilot</span>
        </div>
        
        <div class="copilot-model-selector">
          <button class="copilot-model-button" id="model-selector-button">
            <span id="current-model-name">GPT-4o</span>
            <svg viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
            </svg>
          </button>
          <div class="copilot-model-dropdown" id="model-dropdown">
            <!-- Models will be populated by JavaScript -->
          </div>
        </div>
      </div>
      
      <!-- Right: History & New Chat -->
      <div class="copilot-header-right">
        <button class="copilot-history-button" id="history-button">
          <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
          <span>History</span>
        </button>
        
        <div class="copilot-history-dropdown" id="history-dropdown">
          <div id="history-list">
            <div class="copilot-history-empty">No chat history yet</div>
          </div>
        </div>
        
        <button class="copilot-new-chat-button" id="copilot-new-chat" aria-label="New Chat">
          <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
          </svg>
        </button>
      </div>
    </div>
  </nav>

  <!-- Navigation Sidebar Menu -->
  <div class="copilot-nav-sidebar" id="copilot-nav-sidebar">
    <div class="copilot-nav-header">
      <a href="../index.html" class="copilot-nav-brand">
        <img src="assets/img/chart-logo.svg" alt="Chart Logo">
        <span>SFTi-Pennies</span>
      </a>
      <button class="copilot-nav-close" id="copilot-nav-close">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>
    <ul class="copilot-nav-menu">
      <li><a href="../index.html" class="copilot-nav-link">Home</a></li>
      <li><a href="books.html" class="copilot-nav-link">Books</a></li>
      <li><a href="notes.html" class="copilot-nav-link">Notes</a></li>
      <li class="copilot-nav-section">
        <div class="copilot-nav-section-title">Trades</div>
        <ul>
          <li><a href="all-trades.html" class="copilot-nav-link">All Trades</a></li>
          <li><a href="all-weeks.html" class="copilot-nav-link">All Summaries</a></li>
          <li><a href="analytics.html" class="copilot-nav-link">Analytics</a></li>
          <li><a href="import.html" class="copilot-nav-link">Import CSV</a></li>
        </ul>
      </li>
      <li class="copilot-nav-section">
        <div class="copilot-nav-section-title">Mentors</div>
        <ul>
          <li><a href="https://www.timothysykes.com/" target="_blank" rel="noopener noreferrer" class="copilot-nav-link">Timothy Sykes</a></li>
          <li><a href="https://www.stockstotrade.com/" target="_blank" rel="noopener noreferrer" class="copilot-nav-link">Tim Bohen</a></li>
        </ul>
      </li>
    </ul>
  </div>
  <div class="copilot-nav-overlay" id="copilot-nav-overlay"></div>

  <!-- Chat Container with Tailwind - Mobile Keyboard Optimized -->
  <div id="chat-root" class="fixed inset-0 flex flex-col" style="top: 70px; background: linear-gradient(135deg, rgba(15, 20, 41, 1) 0%, rgba(10, 14, 39, 1) 100%); z-index: 1;">
    
    <!-- Messages Container - Independently scrollable -->
    <div id="chat-messages" class="flex-1 overflow-y-auto overflow-x-hidden px-4 py-6 space-y-4" style="-webkit-overflow-scrolling: touch; overscroll-behavior: contain;">
      <div class="flex flex-col items-center justify-center text-center py-12 px-4">
        <div class="bg-gradient-to-br from-purple-500/20 to-transparent rounded-full p-4 mb-4">
          <svg class="w-12 h-12 text-purple-400" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/>
          </svg>
        </div>
        <h3 class="text-xl font-bold text-white mb-2">Welcome to GitHub Copilot</h3>
        <p class="text-gray-400 max-w-md">Ask me anything about trading, analyze your trades, or get help with your trading journal. I'm here to assist you!</p>
      </div>
    </div>
    
    <!-- Input Area - Moves with keyboard -->
    <div id="chat-input" class="flex-shrink-0 bg-black/50 backdrop-blur-lg border-t border-white/10">
      <div class="max-w-4xl mx-auto px-4 py-4" style="padding-bottom: max(1rem, env(safe-area-inset-bottom));">
        <div class="flex items-end gap-2">
          <textarea 
            id="chat-input-field"
            class="flex-1 bg-white/10 border border-white/20 rounded-2xl px-4 py-3 text-white placeholder-gray-400 resize-none focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent min-h-[48px] max-h-[150px]"
            placeholder="Ask Copilot anything about trading..." 
            rows="1"
            style="font-size: 16px;"
          ></textarea>
          <button id="send-button" class="flex-shrink-0 bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-500 hover:to-purple-600 text-white font-semibold rounded-2xl px-6 py-3 transition-all duration-200 hover:shadow-lg hover:shadow-purple-500/50 active:scale-95 flex items-center gap-2">
            <span>Send</span>
            <svg class="w-5 h-5" viewBox="0 0 20 20" fill="currentColor">
              <path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"/>
            </svg>
          </button>
        </div>
      </div>
    </div>
    
  </div>
  
  <footer class="footer">
    <p>&copy; 2025 SFTi-Pennies Trading Journal</p>
    <p>
      <a href="https://www.linkedin.com/in/statikfintech-llc-780804368" target="_blank" style="color: var(--accent-green, #00ff88);">LinkedIn</a> |
      <a href="https://github.com/statikfintechllc" target="_blank" style="color: var(--accent-green, #00ff88);">Builds</a> |
      <a href="https://github.com/statikfintechllc/SFTi-Pennies/blob/master/LICENSE.md" target="_blank" style="color: var(--accent-green, #00ff88);">License</a>
    </p>
  </footer>
  
  <!-- Background Animation -->
  <script src="assets/js/background.js"></script>
  
  <!-- Firebase Auth -->
  <script src="assets/js/auth.js"></script>
  
  <!-- Mobile Keyboard Handler for Tailwind Chat -->
  <script src="assets/js/mobile-keyboard-tailwind.js"></script>
  
  <!-- Copilot Chat -->
  <script src="assets/js/copilot-chat.js"></script>
  
  <!-- Main App -->
  <script src="assets/js/app.js"></script>
  
</body>
</html>
